<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>DigiRaja Category</title>

<link rel="stylesheet" href="/style.css">

<meta name="theme-color" content="#0f0c0a">

</head>

<body>

<!-- OVERLAY -->
<div class="drawer-overlay" id="overlay"></div>

<!-- DRAWER -->
<div class="drawer" id="drawer">

<a href="/">ğŸ  Home</a>

<a href="/category.html?cat=physical">ğŸ“¦ Physical Products</a>
<a href="/category.html?cat=digital">ğŸ’¾ Digital Products</a>
<a href="/category.html?cat=saas">â˜ï¸ SaaS Platforms</a>
<a href="/category.html?cat=services">ğŸŒ Online Services</a>
<a href="/category.html?cat=creator">ğŸ¨ Creator Assets</a>
<a href="/category.html?cat=deals">ğŸ”¥ Deals & Offers</a>

<a href="/pages/about.html">â„¹ï¸ About</a>
<a href="/pages/contact.html">âœ‰ï¸ Contact</a>
<a href="/pages/privacy.html">ğŸ”’ Privacy</a>
<a href="/pages/terms.html">ğŸ“œ Terms</a>
<a href="/pages/disclaimer.html">âš ï¸ Disclaimer</a>

</div>

<!-- HEADER -->
<header class="app-header">

<button class="menu-btn" id="menuBtn">â˜°</button>

<div class="logo" id="categoryTitle">
Loading...
</div>

</header>

<!-- MAIN -->
<main class="main-content">

<div class="glass-card">

<div class="card-title" id="categoryHeading">
Loading Products...
</div>

<div class="card-desc">
Explore curated platforms and products from trusted marketplaces.
</div>

</div>

<!-- AUTO PRODUCT LOAD -->
<div id="dataContainer"></div>

</main>

<!-- BOTTOM NAV -->
<nav class="bottom-nav">

<a href="/" class="bottom-item">
<span>ğŸ </span>
<small>Home</small>
</a>

<a href="/category.html?cat=physical" class="bottom-item">
<span>ğŸ“¦</span>
<small>Products</small>
</a>

<a href="/category.html?cat=digital" class="bottom-item">
<span>ğŸ’¾</span>
<small>Digital</small>
</a>

<a href="/category.html?cat=saas" class="bottom-item">
<span>â˜ï¸</span>
<small>SaaS</small>
</a>

<a href="/category.html?cat=deals" class="bottom-item">
<span>ğŸ”¥</span>
<small>Deals</small>
</a>

</nav>

<script src="/app.js"></script>

<script>

/* ===============================
CATEGORY AUTO LOADER
=============================== */

document.addEventListener("DOMContentLoaded",function(){

const params = new URLSearchParams(window.location.search);
const category = params.get("cat");

if(!category){
document.getElementById("categoryHeading").innerText="Invalid Category";
return;
}

/* TITLE SET */

const title =
category.charAt(0).toUpperCase() + category.slice(1);

document.getElementById("categoryTitle").innerText = title;
document.getElementById("categoryHeading").innerText = title;

/* JSON LOAD */

fetch(`/data/${category}.json`,{cache:"no-store"})
.then(res=>res.json())
.then(data=>{

if(!Array.isArray(data)){
document.getElementById("dataContainer").innerHTML=
'<div class="glass-card">No Data Found</div>';
return;
}

document.getElementById("dataContainer").innerHTML =
data.map(item=>`

<div class="product-card"
onclick="window.location='${item.redirect}'">

<div class="product-top">

<img
class="product-logo"
src="${getSourceLogo(item.source)}"
>

<div>

<div class="product-title">
${item.name}
</div>

<div class="product-desc">
${item.description}
</div>

</div>

</div>

<div class="product-bottom">

<span class="product-badge">
${item.type || "Product"}
</span>

<div class="product-btn">
View Deal â†’
</div>

</div>

</div>

`).join("");

})
.catch(()=>{
document.getElementById("dataContainer").innerHTML=
'<div class="glass-card">Failed to load data</div>';
});

});

</script>

</body>
</html>