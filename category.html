<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<title>DigiRaja Store</title>

<link rel="stylesheet" href="/style.css">
<meta name="theme-color" content="#0f0c0a">

</head>

<body>

<!-- ================= OVERLAY ================= -->

<div class="drawer-overlay" id="overlay"></div>

<!-- ================= DRAWER ================= -->

<div class="drawer" id="drawer">

<a href="/">ğŸ  Home</a>

<a href="/category.html?type=physical">ğŸ“¦ Physical</a>
<a href="/category.html?type=digital">ğŸ’» Digital</a>
<a href="/category.html?type=saas">â˜ SaaS</a>
<a href="/category.html?type=services">ğŸ§° Services</a>
<a href="/category.html?type=creator">ğŸ¬ Creator</a>
<a href="/category.html?type=deals">ğŸ”¥ Deals</a>

</div>

<!-- ================= HEADER ================= -->

<header class="app-header">
<button class="menu-btn" id="menuBtn">â˜°</button>
<div class="logo" id="pageTitle">Store</div>
</header>

<!-- ================= MAIN ================= -->

<main class="main-content">

<div class="glass-card">

<div class="card-title" id="categoryHeading">
Loading...
</div>

<div class="card-desc">
Discover curated products, tools & affiliate deals powered by DigiRaja.
</div>

</div>

<!-- CATEGORY GRID -->
<div id="subCategories" class="grid"></div>

<!-- PRODUCTS -->
<div id="storeContainer" class="product-grid"></div>

</main>

<!-- ================= BOTTOM NAV ================= -->

<nav class="bottom-nav">

<a href="/" class="bottom-item">
<span>ğŸ </span><small>Home</small>
</a>

<a href="/category.html?type=physical" class="bottom-item">
<span>ğŸ“¦</span><small>Store</small>
</a>

<a href="/category.html?type=digital" class="bottom-item">
<span>ğŸ’»</span><small>Digital</small>
</a>

<a href="/category.html?type=saas" class="bottom-item">
<span>â˜</span><small>SaaS</small>
</a>

<a href="/category.html?type=deals" class="bottom-item">
<span>ğŸ”¥</span><small>Deals</small>
</a>

</nav>

<script src="/app.js"></script>

<!-- =====================================================
âœ… UNIVERSAL CATEGORY ENGINE
===================================================== -->

<script>

document.addEventListener("DOMContentLoaded",()=>{

/* ===============================
PARAMETERS
=============================== */

const params=new URLSearchParams(location.search);

const type=params.get("type")||"physical";
const cat=params.get("cat");

/* ===============================
TITLE MAP
=============================== */

const titles={
physical:"Physical Store",
digital:"Digital Products",
saas:"SaaS Tools",
services:"Services",
creator:"Creator Tools",
deals:"Best Deals"
};

document.getElementById("pageTitle").innerText=
titles[type]||"Store";

document.getElementById("categoryHeading").innerText=
cat ? cat.toUpperCase() : titles[type];


/* =====================================================
STEP 1 â†’ LOAD SUB CATEGORIES
(no cat selected)
===================================================== */

if(!cat){

fetch(`/data/${type}-categories.json`)
.then(res=>res.json())
.then(data=>{

document.getElementById("subCategories")
.innerHTML=data.map(c=>`

<a href="/category.html?type=${type}&cat=${c.file}"
class="category-box">

<span>${c.icon}</span>
${c.name}

</a>

`).join("");

});

return;
}


/* =====================================================
STEP 2 â†’ LOAD PRODUCTS
(cat selected)
===================================================== */

const container=
document.getElementById("storeContainer");

/* hide category grid */
document.getElementById("subCategories")
.style.display="none";

/* tell app.js what to load */

container.dataset.json=
`/data/${type}/${cat}.json`;

});

</script>

</body>
</html>